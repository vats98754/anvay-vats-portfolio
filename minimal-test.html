<!DOCTYPE html>
<html>
<head>
    <title>Minimal Three.js Test</title>
    <style>
        body { margin: 0; padding: 0; background: #000; }
        #canvas { 
            border: 5px solid yellow; 
            display: block;
            background: rgba(255, 0, 0, 0.2);
        }
        #info {
            position: absolute;
            top: 10px;
            left: 10px;
            color: white;
            font-family: Arial;
            background: rgba(0,0,0,0.8);
            padding: 10px;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <canvas id="canvas"></canvas>
    <div id="info">Loading...</div>
    
    <script src="lib/three/three.min.js"></script>
    <script>
        const info = document.getElementById('info');
        
        function log(msg) {
            console.log(msg);
            info.innerHTML += '<br>' + msg;
        }
        
        info.innerHTML = 'Starting test...';
        
        log('THREE available: ' + (typeof THREE !== 'undefined'));
        
        if (typeof THREE === 'undefined') {
            log('❌ THREE.js not loaded!');
        } else {
            log('✅ THREE.js loaded, version: ' + THREE.REVISION);
            
            try {
                // Basic setup
                const canvas = document.getElementById('canvas');
                const scene = new THREE.Scene();
                const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
                
                log('✅ Scene and camera created');
                
                const renderer = new THREE.WebGLRenderer({ 
                    canvas: canvas,
                    alpha: false,
                    antialias: true
                });
                
                renderer.setSize(window.innerWidth, window.innerHeight);
                renderer.setClearColor(0x001122, 1);
                
                log('✅ Renderer created');
                
                // Create a big, bright cube
                const geometry = new THREE.BoxGeometry(3, 3, 3);
                const material = new THREE.MeshBasicMaterial({ 
                    color: 0x00ff00,
                    wireframe: true,
                    linewidth: 3
                });
                const cube = new THREE.Mesh(geometry, material);
                scene.add(cube);
                
                camera.position.z = 8;
                
                log('✅ Green cube added at camera distance 8');
                
                // Render once
                renderer.render(scene, camera);
                log('✅ Initial render complete');
                
                // Animation loop
                let frame = 0;
                function animate() {
                    requestAnimationFrame(animate);
                    
                    cube.rotation.x += 0.02;
                    cube.rotation.y += 0.02;
                    
                    renderer.render(scene, camera);
                    
                    if (frame % 60 === 0) {
                        log('Frame ' + frame + ' - cube rotation: ' + cube.rotation.x.toFixed(2));
                    }
                    frame++;
                }
                
                animate();
                log('✅ Animation started');
                
            } catch (error) {
                log('❌ Error: ' + error.message);
                console.error(error);
            }
        }
    </script>
</body>
</html>
